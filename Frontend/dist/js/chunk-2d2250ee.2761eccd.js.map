{"version":3,"sources":["webpack:///./src/components/Consistency.vue?1cb3","webpack:///src/components/Consistency.vue","webpack:///./src/components/Consistency.vue?66fd","webpack:///./src/components/Consistency.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","ref","staticClass","attrs","form","rules","_s","random_items","item_name","model","value","callback","$$v","$set","expression","price","on","submit","staticRenderFns","config","JSON","parse","localStorage","getItem","sort","Math","random","slice","selected","filter","x","item_value","isConsistent","question1","question2","question3","allQuestions","validator","qAll","trigger","required","message","finished","methods","async","$loading","Promise","resolve","reject","Error","q1","q2","q3","item1Selected","some","cell","item2Selected","pricyItems","item_price","length","$refs","ruleForm","validate","valid","then","consistant_value","participant_ID","time","tutorial_time","parseInt","quiz_time","response_time","consistant","items","participant_info","console","log","experiment_id","axios","post","data","server","setItem","$router","push","name","params","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC,cAAc,2BAA2B,aAAa,WAAW,CAACN,EAAIO,GAAG,uBAAuBH,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,CAAC,eAAe,QAAQ,CAACF,EAAG,UAAU,CAACI,IAAI,WAAWC,YAAY,mBAAmBC,MAAM,CAAC,QAAS,EAAK,MAAQV,EAAIW,KAAK,MAAQX,EAAIY,QAAQ,CAACR,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,iBAAiB,CAACN,EAAG,SAAS,CAACE,YAAY,CAAC,mBAAmB,UAAU,YAAY,UAAU,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,uBAAuBP,EAAIa,GAAGZ,KAAKa,aAAa,GAAGC,WAAW,2BAA2BX,EAAG,MAAMA,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,cAAc,CAACN,EAAG,iBAAiB,CAACY,MAAM,CAACC,MAAOjB,EAAIW,KAAc,UAAEO,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIW,KAAM,YAAaQ,IAAME,WAAW,mBAAmB,CAACjB,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,SAASH,EAAG,MAAMA,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,QAAQH,EAAG,OAAO,IAAI,IAAI,GAAGA,EAAG,SAAS,CAACE,YAAY,CAAC,mBAAmB,UAAU,YAAY,UAAU,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,uBAAuBP,EAAIa,GAAGZ,KAAKa,aAAa,GAAGC,WAAW,2BAA2BX,EAAG,MAAMA,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,cAAc,CAACN,EAAG,iBAAiB,CAACM,MAAM,CAAC,KAAO,YAAYM,MAAM,CAACC,MAAOjB,EAAIW,KAAc,UAAEO,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIW,KAAM,YAAaQ,IAAME,WAAW,mBAAmB,CAACjB,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,SAASH,EAAG,MAAMA,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,QAAQH,EAAG,OAAO,IAAI,IAAI,GAAGA,EAAG,SAAS,CAACE,YAAY,CAAC,mBAAmB,UAAU,YAAY,UAAU,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,kDAAkDP,EAAIa,GAAGZ,KAAKqB,OAAO,sBAAsBlB,EAAG,MAAMA,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,cAAc,CAACN,EAAG,iBAAiB,CAACM,MAAM,CAAC,KAAO,YAAYM,MAAM,CAACC,MAAOjB,EAAIW,KAAc,UAAEO,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIW,KAAM,YAAaQ,IAAME,WAAW,mBAAmB,CAACjB,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,SAASH,EAAG,MAAMA,EAAG,WAAW,CAACM,MAAM,CAAC,MAAQ,IAAI,CAACV,EAAIO,GAAG,QAAQH,EAAG,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI,GAAGA,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,WAAW,CAACF,EAAG,WAAW,CAACM,MAAM,CAAC,QAAU,mBAAmBa,GAAG,CAAC,MAAQvB,EAAIwB,SAAS,CAACxB,EAAIO,GAAG,wBAAwB,MACprEkB,EAAkB,G,UCmDtB,MAAMC,EAAS,EAAQ,QAGR,OACX,OACI,MAAM,CACFZ,aAAaa,KAAKC,MAAMC,aAAaC,QAAQ,UAAUC,KAAK,IAAMC,KAAKC,SAAWD,KAAKC,UAAUC,MAAM,EAAG,GAC1GZ,MAAM,IACNa,SAASR,KAAKC,MAAMC,aAAaC,QAAQ,gBAAgBM,OAAOC,GAAmB,GAAdA,EAAEC,YACvEC,cAAa,EACb5B,KAAK,CACD6B,UAAU,EACVC,UAAU,EACVC,UAAU,GAEd9B,MAAO,CACH+B,aAAc,CAAC,CAAEC,UAAW3C,KAAK4C,KAAKC,QAAS,SAC/CN,UAAW,CAACO,UAAU,EAAKC,QAAS,+BAA+BF,QAAS,QAC5EL,UAAW,CAACM,UAAU,EAAKC,QAAS,+BAA+BF,QAAS,QAC5EJ,UAAW,CAACK,UAAU,EAAKC,QAAS,+BAA+BF,QAAS,SAEhFG,UAAS,IAGjBC,QAAQ,CACJL,KAAMM,iBACF,GAA0B,GAAvBlD,KAAKU,KAAK6B,WAAyC,GAAvBvC,KAAKU,KAAK8B,WAAyC,GAAvBxC,KAAKU,KAAK+B,UAEjE,OADAzC,KAAKmD,UAAS,GACP,IAAIC,QAAQ,CAACC,EAASC,KAAYA,EAAO,IAAIC,MAAM,oCAE9D,IAAIC,GAAG,EACHC,GAAG,EACHC,GAAG,EACHC,EAAc3D,KAAKkC,SAAS0B,KAAKC,GAAQA,EAAK/C,YAAcd,KAAKa,aAAa,GAAGC,WACjFgD,EAAc9D,KAAKkC,SAAS0B,KAAKC,GAAQA,EAAK/C,YAAcd,KAAKa,aAAa,GAAGC,WACjFiD,EAAW/D,KAAKkC,SAASC,OAAOC,GAAKA,EAAE4B,YAAYhE,KAAKqB,OAAO4C,OAanE,OAVIN,GAAwC,GAAvB3D,KAAKU,KAAK6B,YAAqBoB,GAAwC,GAAvB3D,KAAKU,KAAK6B,aAC3EiB,GAAG,IAEHM,GAAwC,GAAvB9D,KAAKU,KAAK8B,YAAqBsB,GAAwC,GAAvB9D,KAAKU,KAAK8B,aAC3EiB,GAAG,IAEHM,EAAW,GAA4B,GAAvB/D,KAAKU,KAAK+B,WAA8B,GAAZsB,GAAwC,GAAvB/D,KAAKU,KAAK+B,aACvEiB,GAAG,GAII,IAAIN,QADZI,GAAIC,GAAIC,EACY,CAACL,EAASC,KAAYD,GAAQ,IAE9B,CAACA,EAASC,KAAYA,EAAO,IAAIC,MAAM,SAGlEhC,OAAO2B,iBAEHlD,KAAKmD,UAAS,GAEd,IAAIC,QAAQ,CAACC,EAASC,KAElBtD,KAAKkE,MAAMC,SAASC,SAAUC,IAC1B,GAAGA,EACCrE,KAAKsC,cAAa,EAElBe,EAAQ,OAGR,CAEA,GADArD,KAAKsC,cAAa,EACQ,GAAvBtC,KAAKU,KAAK6B,WAAyC,GAAvBvC,KAAKU,KAAK8B,WAAyC,GAAvBxC,KAAKU,KAAK+B,UACjE,OACJY,EAAQ,QAInBiB,KAAKpB,MAAOqB,IACT,IAAIC,EAAe5C,aAAaC,QAAQ,kBACpC4C,EAAK7C,aAAaC,QAAQ,aAC1B6C,EAAcC,SAAS/C,aAAaC,QAAQ,oBAAoB8C,SAAS/C,aAAaC,QAAQ,mBAC9F+C,EAAUD,SAAS/C,aAAaC,QAAQ,gBAAgB8C,SAAS/C,aAAaC,QAAQ,oBACtFgD,EAAcF,SAAS/C,aAAaC,QAAQ,qBAAqB8C,SAAS/C,aAAaC,QAAQ,oBAC/FiD,EAAWP,EACXQ,EAAMrD,KAAKC,MAAMC,aAAaC,QAAQ,gBACtCmD,EAAiBtD,KAAKC,MAAMC,aAAaC,QAAQ,qBACrDoD,QAAQC,IAAI,QAEZ,MAAMC,QAAoBnF,KAAKoF,MAAMC,KAAK,UAAU5D,EAAO6D,KAAKC,OAAO,iBAAiB,CACpFf,eAAeA,EACfC,KAAKA,EACLC,cAAcA,EACdE,UAAUA,EACVC,cAAcA,EACdC,WAAWA,EACXC,MAAMA,EACNC,iBAAiBA,IAErBpD,aAAa4D,QAAQ,gBAAgBL,EAAcG,KAAKH,iBAE3Db,KAAK,KAEFtE,KAAKmD,UAAS,GAEdnD,KAAKyF,QAAQC,KAAK,CAAEC,KAAM,gBAAiBC,OAAQ,CAACtD,aAActC,KAAKsC,qBC1J6G,I,YCOhMuD,EAAY,eACd,EACA/F,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAqE,E","file":"js/chunk-2d2250ee.2761eccd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticStyle:{\"font-family\":\"'Courier New', monospace\",\"text-align\":\"center\"}},[_vm._v(\"Consistency check\")]),_c('br'),_c('div',{staticStyle:{\"padding-left\":\"25%\"}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"allQuestions\"}},[_c('b-card',{staticStyle:{\"background-color\":\"#e8e8e8\",\"max-width\":\"700px\"}},[_c('h4',[_vm._v(\"Question 1: Was the \"+_vm._s(this.random_items[0].item_name)+\" one of your choices?\")]),_c('br'),_c('el-form-item',{attrs:{\"prop\":\"question1\"}},[_c('el-radio-group',{model:{value:(_vm.form.question1),callback:function ($$v) {_vm.$set(_vm.form, \"question1\", $$v)},expression:\"form.question1\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"Yes\")]),_c('br'),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"No\")]),_c('br')],1)],1)],1),_c('b-card',{staticStyle:{\"background-color\":\"#e8e8e8\",\"max-width\":\"700px\"}},[_c('h4',[_vm._v(\"Question 2: Was the \"+_vm._s(this.random_items[1].item_name)+\" one of your choices?\")]),_c('br'),_c('el-form-item',{attrs:{\"prop\":\"question2\"}},[_c('el-radio-group',{attrs:{\"type\":\"vertical\"},model:{value:(_vm.form.question2),callback:function ($$v) {_vm.$set(_vm.form, \"question2\", $$v)},expression:\"form.question2\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"Yes\")]),_c('br'),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"No\")]),_c('br')],1)],1)],1),_c('b-card',{staticStyle:{\"background-color\":\"#e8e8e8\",\"max-width\":\"700px\"}},[_c('h4',[_vm._v(\"Question 3: Did you select any items that cost \"+_vm._s(this.price)+\" pounds or more?\")]),_c('br'),_c('el-form-item',{attrs:{\"prop\":\"question3\"}},[_c('el-radio-group',{attrs:{\"type\":\"vertical\"},model:{value:(_vm.form.question3),callback:function ($$v) {_vm.$set(_vm.form, \"question3\", $$v)},expression:\"form.question3\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"Yes\")]),_c('br'),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"No\")]),_c('br')],1)],1)],1)],1)],1)],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit and finish\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <h1 style=\"font-family: 'Courier New', monospace;text-align:center\">Consistency check</h1>\r\n    <br>\r\n    <div style=\"padding-left: 25%;\">\r\n        <el-form :inline=\"true\" :model=\"form\" class=\"demo-form-inline\" :rules=\"rules\" ref=\"ruleForm\">\r\n            <el-form-item prop=\"allQuestions\">\r\n                <b-card style=\"background-color:#e8e8e8; max-width:700px\">\r\n                    <h4>Question 1: Was the {{this.random_items[0].item_name}} one of your choices?</h4>\r\n                    <br>\r\n                    <el-form-item prop=\"question1\">\r\n                        <el-radio-group v-model=\"form.question1\">\r\n                            <el-radio :label=\"1\">Yes</el-radio><br>\r\n                            <el-radio :label=\"2\">No</el-radio><br>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </b-card>\r\n                <!-- <br> -->\r\n                <b-card style=\"background-color:#e8e8e8; max-width:700px\">\r\n                    <h4>Question 2: Was the {{this.random_items[1].item_name}} one of your choices?</h4>\r\n                    <br>\r\n                    <el-form-item prop=\"question2\">\r\n                        <el-radio-group v-model=\"form.question2\" type=\"vertical\">\r\n                            <el-radio :label=\"1\">Yes</el-radio><br>\r\n                            <el-radio :label=\"2\">No</el-radio><br>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </b-card>\r\n                    \r\n                <!-- <br> -->\r\n                <b-card style=\"background-color:#e8e8e8; max-width:700px\">\r\n                    <h4>Question 3: Did you select any items that cost {{this.price}} pounds or more?</h4>\r\n                    <br>\r\n                    <el-form-item prop=\"question3\">\r\n                        <el-radio-group v-model=\"form.question3\" type=\"vertical\">\r\n                            <el-radio :label=\"1\">Yes</el-radio><br>\r\n                            <el-radio :label=\"2\">No</el-radio><br>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                </b-card>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n    <div style=\"text-align:center\">\r\n        <b-button variant=\"outline-primary\" @click=\"submit\">Submit and finish</b-button>\r\n    </div>\r\n</div>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { asyncLoading } from 'vuejs-loading-plugin';\r\nconst config = require(\"../config.js\");\r\n\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            random_items:JSON.parse(localStorage.getItem('items')).sort(() => Math.random() - Math.random()).slice(0, 2),\r\n            price:100000,\r\n            selected:JSON.parse(localStorage.getItem('final_items')).filter(x => x.item_value==1),\r\n            isConsistent:false,\r\n            form:{\r\n                question1:0,\r\n                question2:0,\r\n                question3:0,\r\n            },\r\n            rules: {\r\n                allQuestions: [{ validator: this.qAll,trigger: 'blur'}],\r\n                question1: {required: true,message: 'Please answer all questions.',trigger: 'blur'},\r\n                question2: {required: true,message: 'Please answer all questions.',trigger: 'blur'},\r\n                question3: {required: true,message: 'Please answer all questions.',trigger: 'blur'},\r\n            },\r\n            finished:false\r\n        }\r\n    },\r\n    methods:{\r\n        qAll: async function(){\r\n            if(this.form.question1 == 0 || this.form.question2 == 0 || this.form.question3 == 0){\r\n                this.$loading(false);\r\n                return new Promise((resolve, reject) => {reject(new Error('You must answer all questions'))});\r\n            }\r\n            let q1=false;\r\n            let q2=false;\r\n            let q3=false;\r\n            let item1Selected=this.selected.some(cell => cell.item_name === this.random_items[0].item_name);\r\n            let item2Selected=this.selected.some(cell => cell.item_name === this.random_items[1].item_name);\r\n            let pricyItems=this.selected.filter(x => x.item_price>=this.price).length;\r\n            \r\n\r\n            if((item1Selected && this.form.question1 == 1) || (!item1Selected && this.form.question1 == 2))\r\n                q1=true;\r\n\r\n            if((item2Selected && this.form.question2 == 1) || (!item2Selected && this.form.question2 == 2))\r\n                q2=true;\r\n\r\n            if((pricyItems>0 && this.form.question3 == 1)||(pricyItems==0 && this.form.question3 == 2))\r\n                q3=true;\r\n\r\n\r\n            if(q1&&q2&&q3)\r\n                return new Promise((resolve, reject) => {resolve(true)});\r\n            else\r\n                return new Promise((resolve, reject) => {reject(new Error('.'))});\r\n\r\n        },\r\n        submit:async function(){\r\n            \r\n            this.$loading(true);\r\n\r\n            new Promise((resolve, reject) => {\r\n                \r\n                this.$refs.ruleForm.validate((valid) => {\r\n                    if(valid){\r\n                        this.isConsistent=true;\r\n                            \r\n                        resolve(1)\r\n\r\n                    } \r\n                    else{\r\n                        this.isConsistent=false;\r\n                        if(this.form.question1 == 0 || this.form.question2 == 0 || this.form.question3 == 0)\r\n                            return;\r\n                        resolve(0);\r\n                    } \r\n                });\r\n            })\r\n            .then(async (consistant_value)=>{\r\n                let participant_ID=localStorage.getItem(\"participant_ID\");\r\n                let time=localStorage.getItem(\"startTime\");\r\n                let tutorial_time=parseInt(localStorage.getItem(\"tutorial_finish\"))-parseInt(localStorage.getItem(\"consent_finish\"));\r\n                let quiz_time=parseInt(localStorage.getItem(\"quiz_finish\"))-parseInt(localStorage.getItem(\"tutorial_finish\"));\r\n                let response_time=parseInt(localStorage.getItem(\"budgeting_finish\"))-parseInt(localStorage.getItem(\"budgeting_start\"));\r\n                let consistant=consistant_value;\r\n                let items=JSON.parse(localStorage.getItem(\"final_items\"));\r\n                let participant_info=JSON.parse(localStorage.getItem(\"participant_info\"));\r\n                console.log('here');\r\n                // let servername=localStorage.getItem('server');\r\n                const experiment_id=await this.axios.post(\"http://\"+config.data.server+\"/addExperiment\",{\r\n                    participant_ID:participant_ID,\r\n                    time:time,\r\n                    tutorial_time:tutorial_time,\r\n                    quiz_time:quiz_time,\r\n                    response_time:response_time,\r\n                    consistant:consistant,\r\n                    items:items,\r\n                    participant_info:participant_info\r\n                });\r\n                localStorage.setItem('experiment_id',experiment_id.data.experiment_id);\r\n            })\r\n            .then(()=>{\r\n                // this.finished=true;\r\n                this.$loading(false);\r\n                // this.$router.push(\"/Feedback_quiz\");\r\n                this.$router.push({ name: 'Feedback_quiz', params: {isConsistent: this.isConsistent }});\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consistency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consistency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Consistency.vue?vue&type=template&id=81849112&\"\nimport script from \"./Consistency.vue?vue&type=script&lang=js&\"\nexport * from \"./Consistency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}