(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63fc9e52"],{1279:function(e,t,i){"use strict";var s=i("20d3"),o=i.n(s);o.a},"20d3":function(e,t,i){},e37a:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h1",{staticStyle:{"font-family":"'Courier New', monospace","text-align":"center"}},[e._v("Consistency check")]),i("br"),i("div",{staticStyle:{"margin-left":"20%",width:"60%"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{prop:"allQuestions"}},[i("b-card",{staticStyle:{"background-color":"#e8e8e8"}},[i("h4",{staticClass:"q-title"},[e._v("Question 1")]),i("div",{staticClass:"q-body"},[i("h4",[e._v(e._s(this.questions[this.voting_method].q1))]),i("br"),i("el-form-item",{attrs:{prop:"question1"}},[i("el-radio-group",{model:{value:e.form.question1,callback:function(t){e.$set(e.form,"question1",t)},expression:"form.question1"}},[i("el-radio",{attrs:{label:1}},[e._v("Yes")]),i("br"),i("el-radio",{attrs:{label:2}},[e._v("No")]),i("br")],1)],1)],1)]),i("b-card",{staticStyle:{"background-color":"#e8e8e8"}},[i("h4",{staticClass:"q-title"},[e._v("Question 2")]),i("div",{staticClass:"q-body",staticStyle:{"word-wrap":"break-word"}},[i("h4",[e._v(e._s(this.questions[this.voting_method].q2))]),i("br"),i("el-form-item",{attrs:{prop:"question2"}},[i("el-radio-group",{attrs:{type:"vertical"},model:{value:e.form.question2,callback:function(t){e.$set(e.form,"question2",t)},expression:"form.question2"}},[i("el-radio",{attrs:{label:1}},[e._v("Yes")]),i("br"),i("el-radio",{attrs:{label:2}},[e._v("No")]),i("br")],1)],1)],1)]),i("b-card",{staticStyle:{"background-color":"#e8e8e8"}},[i("h4",{staticClass:"q-title"},[e._v("Question 3")]),i("div",{staticClass:"q-body"},[i("h4",[e._v(e._s(this.questions[this.voting_method].q3))]),i("br"),i("el-form-item",{attrs:{prop:"question3"}},[i("el-radio-group",{attrs:{type:"vertical"},model:{value:e.form.question3,callback:function(t){e.$set(e.form,"question3",t)},expression:"form.question3"}},[i("el-radio",{attrs:{label:1}},[e._v("Yes")]),i("br"),i("el-radio",{attrs:{label:2}},[e._v("No")]),i("br")],1)],1)],1)])],1)],1)],1),i("div",{staticStyle:{"text-align":"center"}},[i("b-button",{attrs:{variant:"primary"},on:{click:e.submit}},[e._v("Submit")])],1)])},o=[];i("ca55");const a=i("db49");var n={data(){let e=JSON.parse(localStorage.getItem("items")).sort(()=>Math.random()-Math.random()).slice(0,4);return{random_items:e,voting_method:localStorage.getItem("voting_method"),price:1e5,selected:JSON.parse(localStorage.getItem("final_items")).filter(e=>e.item_value>0),isConsistent:!1,form:{question1:0,question2:0,question3:0},rules:{allQuestions:[{validator:this.qAll,trigger:"blur"}],question1:{required:!0,message:"Please answer all questions.",trigger:"blur"},question2:{required:!0,message:"Please answer all questions.",trigger:"blur"},question3:{required:!0,message:"Please answer all questions.",trigger:"blur"}},finished:!1,questions:{Knapsack:{q1:'Was "'+e[0].item_name+'" one of your choices?',q2:'Was "'+e[1].item_name+'" one of your choices?',q3:"Did you select any projects that cost 100,000 pounds or more?"},Utilities:{q1:'Was "'+e[0].item_name+'" your highest rated choise?',q2:'Was "'+e[1].item_name+'" your lowest rated choice?',q3:"Did you assign some project with 250,000 pounds or more?"},k_approval:{q1:'Was "'+e[0].item_name+'" one of your choices?',q2:'Was "'+e[1].item_name+'" one of your choices?',q3:"Did you select 3 projects or more?"},Ranking_value:{q1:'Was "'+e[0].item_name+'" more importent to you than "'+e[1].item_name+'"?',q2:'Was "'+e[1].item_name+'" more importent to you than "'+e[2].item_name+'"?',q3:'Was "'+e[2].item_name+'" more importent to you than "'+e[3].item_name+'"?'},Ranking_value_money:{q1:'Was "'+e[0].item_name+'" higher in "value for money" in your ranking than "'+e[1].item_name+'"?',q2:'Was "'+e[1].item_name+'" higher in "value for money" in your ranking than "'+e[2].item_name+'"?',q3:'Was "'+e[2].item_name+'" higher in "value for money" in your ranking than "'+e[3].item_name+'"?'},Threshold:{q1:'Was "'+e[0].item_name+'" one of your choices?',q2:'Was "'+e[1].item_name+'" one of your choices?',q3:"Did you select 5 projects or more?"}}}},methods:{qAll:async function(){if(0==this.form.question1||0==this.form.question2||0==this.form.question3)return this.$loading(!1),new Promise((e,t)=>{t(new Error("You must answer all questions"))});let e=!1,t=!1,i=!1,s=!1,o=!1,a=!1;return"Knapsack"==this.voting_method&&(s=this.selected.some(e=>e.item_name===this.random_items[0].item_name),o=this.selected.some(e=>e.item_name===this.random_items[1].item_name),a=this.selected.filter(e=>e.item_price>=1e5).length>0),"Utilities"==this.voting_method&&(s=this.selected.some(e=>e.item_name===this.random_items[0].item_name),o=this.selected.some(e=>e.item_name===this.random_items[1].item_name),a=Math.max.apply(Math,this.selected.map((function(e){return e.item_value})))>25e4),"k_approval"==this.voting_method&&(s=this.selected.some(e=>e.item_name===this.random_items[0].item_name),o=this.selected.some(e=>e.item_name===this.random_items[1].item_name),a=this.selected.length>=3),"Threshold"==this.voting_method&&(s=this.selected.some(e=>e.item_name===this.random_items[0].item_name),o=this.selected.some(e=>e.item_name===this.random_items[1].item_name),a=this.selected.length>=3),"Ranking_value"!=this.voting_method&&"Ranking_value_money"!=this.voting_method||(s=this.selected.filter(e=>e.item_name==this.random_items[0].item_name)[0].item_value>this.selected.filter(e=>e.item_name==this.random_items[1].item_name)[0].item_value,o=this.selected.filter(e=>e.item_name==this.random_items[1].item_name)[0].item_value>this.selected.filter(e=>e.item_name==this.random_items[2].item_name)[0].item_value,a=this.selected.filter(e=>e.item_name==this.random_items[2].item_name)[0].item_value>this.selected.filter(e=>e.item_name==this.random_items[3].item_name)[0].item_value),(s&&1==this.form.question1||!s&&2==this.form.question1)&&(e=!0),(o&&1==this.form.question2||!o&&2==this.form.question2)&&(t=!0),(a&&1==this.form.question3||!a&&2==this.form.question3)&&(i=!0),new Promise(e&&t&&i?(e,t)=>{e(!0)}:(e,t)=>{t(new Error("."))})},submit:async function(){this.$loading(!0),new Promise((e,t)=>{this.$refs.ruleForm.validate(t=>{if(t)this.isConsistent=!0,e(1);else{if(this.isConsistent=!1,0==this.form.question1||0==this.form.question2||0==this.form.question3)return;e(0)}})}).then(async e=>{let t=localStorage.getItem("participant_ID"),i=localStorage.getItem("startTime"),s=parseInt(localStorage.getItem("tutorial_finish"))-parseInt(localStorage.getItem("consent_finish")),o=parseInt(localStorage.getItem("quiz_finish"))-parseInt(localStorage.getItem("tutorial_finish")),n=parseInt(localStorage.getItem("budgeting_finish"))-parseInt(localStorage.getItem("budgeting_start")),r=e,m=JSON.parse(localStorage.getItem("final_items")),l=JSON.parse(localStorage.getItem("participant_info"));try{const e=await this.axios.post("http://"+a.data.server+"/addExperiment",{participant_ID:t,time:i,tutorial_time:s,quiz_time:o,response_time:n,consistant:r,items:m,participant_info:l});localStorage.clear(),localStorage.setItem("experiment_id",e.data.experiment_id)}catch(u){console.log(u),this.$parent.server_error=!0}}).then(()=>{this.$loading(!1),this.$router.push({name:"Feedback_quiz",params:{isConsistent:this.isConsistent}})})}}},r=n,m=(i("1279"),i("2877")),l=Object(m["a"])(r,s,o,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-63fc9e52.2f950788.js.map