(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1829748"],{"3ffc":function(e,t,i){"use strict";var s=i("b242"),r=i.n(s);r.a},5490:function(e,t,i){"use strict";var s=i("a6b6"),r=i.n(s);r.a},a0be:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"map",staticStyle:{"margin-left":"1%"},attrs:{id:"map"}},[i("img",{ref:"homeImage",attrs:{src:e.getImageURL("userHome"),height:"45",width:"65"}}),e._l(this.our_items,(function(t){return i("div",{key:t},[1==t.coords.length?i("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],ref:t.item_name,refInFor:!0,attrs:{src:e.getImageURL(t.item_group),height:e.image_size,width:e.image_size,title:t.item_name}}):i("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],ref:t.item_name,refInFor:!0,attrs:{src:e.getImageURL(t.item_group),height:e.image_size/1.5,width:e.image_size/1.5,title:t.item_name}})])}))],2)},r=[],a={data(){return{url:"../assets/userHome.png",our_items:this.getAllItems(),image_size:"50"}},mounted(){this.drawImages(),console.log(this.$refs)},methods:{getImageURL(e){return i("9e01")("./"+e+".png")},drawImages(){this.$refs.homeImage.style.position="relative",this.$refs.homeImage.style.left="60%",this.$refs.homeImage.style.top="30%";let e=0;this.our_items.forEach(t=>{1!=this.$refs[t.item_name].length&&3!=e||(e=0),this.$refs[t.item_name][e].style.position="relative",this.$refs[t.item_name][e].style.left=t.x_coord.toString()+"%",this.$refs[t.item_name][e].style.top=t.y_coord.toString()+"%",this.$refs[t.item_name][e].style.opacity=.3,e++})},getAllItems(){let e=JSON.parse(localStorage.getItem("items")),t=[];return e.forEach(e=>{let i=e.coords.split("#");i.forEach(s=>{t.push({item_name:e.item_name,item_group:e.item_group,x_coord:s.split(",")[0],y_coord:s.split(",")[1],coords:i})})}),t},changeOpacity(e,t){console.log(1);let i=this.$refs[e];console.log(i),i.forEach(e=>{e.style.opacity=t})}}},n=a,o=(i("5490"),i("2877")),l=Object(o["a"])(n,s,r,!1,null,null,null);t["a"]=l.exports},a6b6:function(e,t,i){},accb:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("h1",{staticStyle:{"font-family":"'Courier New', monospace","text-align":"center"}},[e._v("Building our city")]),s("div",{staticClass:"row"},[s("div",{staticClass:"column1"},[s("vue-ellipse-progress",{staticStyle:{"margin-left":"20px"},attrs:{progress:e.tasksDonePercent,"legend-value":e.numberSelected,color:"blue",emptyColor:"#8ec5fc",size:250,thickness:10,emptyThickness:"10%",lineMode:"in 10",legend:!0,dash:"strict 5 0.05",animation:"reverse 700 400",noData:!1,loading:!1,half:!1,fontSize:e.fontSize,fontColor:e.fontColor},scopedSlots:e._u([{key:"legend-value",fn:function(){return[s("span",{ref:"moneyLabel",attrs:{slot:"value"},slot:"value"})]},proxy:!0},{key:"legend-caption",fn:function(){return[s("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v("selected")])]},proxy:!0}])})],1),s("div",{staticClass:"column2"},[s("filter-group"),s("b-table",{ref:"selectableTable",attrs:{"sticky-header":"500px",striped:"",hover:"","table-variant":"light","head-variant":"dark",items:e.items,fields:e.fields,"select-mode":e.selectMode,responsive:"sm"},on:{"row-hovered":e.rowHovered,"row-unhovered":e.rowUnHovered},scopedSlots:e._u([{key:"cell(arrow)",fn:function(e){return[s("img",{staticStyle:{cursor:"pointer"},attrs:{src:i("c5d4"),width:"20",height:"10"},on:{click:e.toggleDetails}})]}},{key:"cell(group)",fn:function(t){return[s("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{src:e.$parent.getImageURL(t.item.item_group),alt:"",width:"30",height:"30",title:t.item.item_group}})]}},{key:"cell(select)",fn:function(t){return[s("b-form-checkbox",{attrs:{size:"lg"},on:{change:function(i){return e.update(i,t)}},model:{value:t.item.selected,callback:function(i){e.$set(t.item,"selected",i)},expression:"row.item.selected"}})]}},{key:"row-details",fn:function(t){return[s("b-card",[e._v(" "+e._s(t.item.item_desc)+" ")])]}}])}),e.somethingSelected?e._e():s("b-alert",{staticStyle:{"text-align":"center"},attrs:{show:"",variant:"danger"}},[e._v("You must select some projects.")]),s("div",{staticStyle:{float:"right"}},[s("b-button",{attrs:{variant:"outline-primary"},on:{click:e.resetTable}},[e._v("reset")]),s("b-button",{attrs:{variant:"outline-primary"},on:{click:e.submit}},[e._v("Submit")])],1)],1),s("div",{staticClass:"column3"},[s("Map",{ref:"map"})],1)])])},r=[],a=i("b13f"),n=i("a0be"),o={components:{Map:n["a"],FilterGroup:a["a"]},data(){return{budget:5e5,numberSelected:0,somethingSelected:!0,items:JSON.parse(localStorage.getItem("items")),fields:[{key:"arrow",label:""},{key:"group",label:""},{key:"item_name",label:"Item",sortable:!0,class:"text-center"},{key:"info",label:""},{key:"select",label:"",class:"text-center"}],fontSize:"50px",fontColor:"black"}},computed:{tasksDonePercent(){return 100*this.numberSelected/this.items.length}},methods:{update(e,t){this.budget;e?(this.$refs.map.changeOpacity(t.item.item_name,1),this.numberSelected++,this.somethingSelected=!0):(this.$refs.map.changeOpacity(t.item.item_name,.3),this.numberSelected--),this.series=[{data:[this.budget-this.money_spent,this.money_spent]}]},rowHovered(e){this.$refs.map.changeOpacity(e.item_name,1)},rowUnHovered(e,t){let i=this.items.filter(t=>t.item_name==e.item_name)[0].selected;i||this.$refs.map.changeOpacity(e.item_name,.3)},resetTable(){this.$refs.selectableTable.clearSelected(),this.selected=[],this.items.forEach(e=>{e.selected=!1,this.$refs.map.changeOpacity(e.item_name,.3)}),this.numberSelected=0},submit(){let e=(new Date).getTime(),t=[],i=0;this.items.forEach(e=>{e.selected?(t.push({item_id:e.item_id,item_name:e.item_name,item_value:1,item_price:e.item_value}),i++):t.push({item_id:e.item_id,item_name:e.item_name,item_value:0,item_price:e.item_value})}),0!=i?(localStorage.setItem("budgeting_finish",JSON.stringify(e)),localStorage.setItem("final_items",JSON.stringify(t)),this.$router.push("/Consistency")):this.somethingSelected=!1}}},l=o,c=(i("3ffc"),i("2877")),m=Object(c["a"])(l,s,r,!1,null,null,null);t["default"]=m.exports},b13f:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-dropdown",{staticClass:"m-2",attrs:{text:"Filter defferent categories",variant:"primary"}},[i("b-form-checkbox",{staticStyle:{display:"inline","margin-left":"10px"},on:{change:function(t){return e.checkAll(t)}},model:{value:e.select_all,callback:function(t){e.select_all=t},expression:"select_all"}},[e._v("Select all")]),i("hr"),e._l(this.groups,(function(t){return i("div",{key:t},[i("b-dropdown-item",{nativeOn:{"!click":function(e){e.stopPropagation()}}},[i("b-form-checkbox",{staticStyle:{display:"inline"},on:{change:function(i){return e.checkGroup(i,t)}},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"group.selected"}},[e._v(e._s(t.group_name))]),i("img",{staticStyle:{display:"inline","margin-left":"5px"},attrs:{src:e.getImageURL(t.group_name),alt:"",width:"30",height:"30"}})],1)],1)}))],2)},r=[],a={data(){return{groups:this.getGroupes(),items_by_groups:JSON.parse(localStorage.getItem("items")).map(e=>({...e,selected:!1})).map(e=>({...e,given_value:0})),select_all:!0}},methods:{getImageURL(e){return i("9e01")("./"+e+".png")},getGroupes(){let e=[],t=JSON.parse(localStorage.getItem("items"));return t.forEach(t=>{e.some(e=>e.group_name==t.item_group)||e.push({group_name:t.item_group,selected:!0})}),e},checkGroup(e,t){if(e)this.items_by_groups.forEach(e=>{e.item_group==t.group_name&&this.$parent.items.push(e)});else{let e=[];this.$parent.items.forEach(i=>{console.log(i.item_name),i.item_group==t.group_name&&(this.items_by_groups.forEach(e=>{e.item_name==i.item_name&&(e.selected=i.selected,e.given_value=i.given_value)}),e.push(i.item_name))}),e.forEach(e=>{this.$parent.items.splice(this.$parent.items.map((function(e){return e.item_name})).indexOf(e),1)})}},checkAll(e){this.groups.forEach(t=>{this.checkGroup(e,t),t.selected=e})}}},n=a,o=(i("baf0"),i("2877")),l=Object(o["a"])(n,s,r,!1,null,null,null);t["a"]=l.exports},b242:function(e,t,i){},baf0:function(e,t,i){"use strict";var s=i("edad"),r=i.n(s);r.a},edad:function(e,t,i){}}]);
//# sourceMappingURL=chunk-b1829748.e7504227.js.map